var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,c=(e,t)=>{for(var l in t||(t={}))r.call(t,l)&&s(e,l,t[l]);if(a)for(var l of a(t))o.call(t,l)&&s(e,l,t[l]);return e};import{m as i,f as u,r as d,o as n,g as p,h as m,w as f,t as b,F as h,i as y,j as v}from"./vendor.fd304484.js";const g={name:"topicCate",components:{},computed:c(c({},i("appShell",["baseInfo"])),i("topic",["cateList"])),data:()=>({valid:!0,createForm:{parentId:"",title:"",type:""},rules:{title:[{required:!0,message:"请输入主题标题",trigger:"blur"}]},options:[{value:1,label:"文章分类"},{value:2,label:"文档分类"},{value:3,label:"论坛分类"}]}),created(){console.log(this.$route),this.cateList.length||this.fetchTopicCate({query:{type:3}})},methods:(C=c({},u("topic",["fetchTopicCate","createCate","deleteCate"])),F={deleteCateHandle(e){e&&this.deleteCate(e).then((e=>{this.$message.success(e.msg),this.fetchTopicCate({type:3})}))},submitForm(e){this.$refs[e].validate((e=>{e&&this.createCate(this.createForm).then((e=>{200==e.code&&(this.createForm.title="",this.$message.success(e.msg),this.fetchTopicCate())}))}))}},t(C,l(F)))};var C,F;const O={class:"create-cate-wrapper"},j={class:"card-header"},w=m("h3",{class:"mt-12 mb-4"},"新建类目",-1),_=v("创建");g.render=function(e,t,l,a,r,o){const s=d("el-tag"),c=d("el-input"),i=d("el-form-item"),u=d("el-option"),g=d("el-select"),C=d("el-button"),F=d("el-form"),V=d("el-card");return n(),p("div",O,[m(V,{class:"box-card"},{header:f((()=>[m("div",j,[m("span",null,b(e.$route.meta.title)+"类目",1)])])),default:f((()=>[m("div",null,[(n(!0),p(h,null,y(e.cateList,((e,t)=>(n(),p(s,{class:"mr-4",key:t,closable:"",effect:"dark",onClose:t=>o.deleteCateHandle(e)},{default:f((()=>[v(b(e.title),1)])),_:2},1032,["onClose"])))),128))]),w,m(F,{model:r.createForm,rules:r.rules,ref:"createForm","label-width":"auto",class:"w-2/5"},{default:f((()=>[m(i,{label:"类目名称:",prop:"title"},{default:f((()=>[m(c,{modelValue:r.createForm.title,"onUpdate:modelValue":t[1]||(t[1]=e=>r.createForm.title=e)},null,8,["modelValue"])])),_:1}),m(i,{label:"类目名称:",prop:"type",rules:[{required:!0,message:"分类类型不能为空"}]},{default:f((()=>[m(g,{modelValue:r.createForm.type,"onUpdate:modelValue":t[2]||(t[2]=e=>r.createForm.type=e),placeholder:"选择类型"},{default:f((()=>[(n(!0),p(h,null,y(r.options,(e=>(n(),p(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(i,null,{default:f((()=>[m(C,{type:"primary",onClick:t[3]||(t[3]=e=>o.submitForm("createForm"))},{default:f((()=>[_])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})])};export default g;
