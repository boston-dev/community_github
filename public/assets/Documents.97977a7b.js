var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,l=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&c(e,a,t[a]);if(s)for(var a of s(t))o.call(t,a)&&c(e,a,t[a]);return e};import{m as n,f as i,r as u,o as p,g as d,h as m,w as f,q as h,F as y,i as b,t as g,j as v}from"./vendor.fd304484.js";const O={name:"Documents",data:()=>({group:[]}),computed:l({},n("appShell",["baseInfo"])),methods:(_=l({},i("topic",["fetchArticlesList","fetchTopicCate"])),j={fetchArticles(){let e={query:{type:3},options:{sort:{date:-1},populate:"user cat"}};return this.currentTabId&&(e.query.cat=this.currentTabId),this.fetchArticlesList(e)},goEdt(){if(!this.baseInfo._id)return this.$router.push({name:"login",query:{redirect:location.pathname+location.search}}),!1;this.$router.push({name:"createDocument"})}},t(_,a(j))),mounted(){this.$request.post("/index/catGroup",{pageSize:9,catType:2,artType:3}).then((e=>{200===e.data.code&&(this.group=e.data.result)}))}};var _,j;const k={class:"document-wrapper"},w={class:"text-right"},C=v("编写文档"),$=v("新建类目"),I={class:"mb-1"},q={class:"mt-2 px-1"},P=m("i",{class:"el-icon-document"},null,-1),T={class:"ml-3"};O.render=function(e,t,a,s,r,o){const c=u("el-button"),l=u("el-divider"),n=u("el-col"),i=u("el-row"),v=u("el-card");return p(),d("div",k,[m(v,null,{default:f((()=>[m("div",w,[m(c,{type:"success",onClick:o.goEdt},{default:f((()=>[C])),_:1},8,["onClick"]),1===e.baseInfo.admin?(p(),d(c,{key:0,type:"success",onClick:t[1]||(t[1]=t=>e.$router.push({name:"documentsCate"}))},{default:f((()=>[$])),_:1})):h("",!0)]),m(i,{class:"p-4 document-content"},{default:f((()=>[(p(!0),d(y,null,b(r.group,((t,a)=>(p(),d(n,{span:8,class:"content-item p-6",key:a},{default:f((()=>[m("h3",I,g(t.cat.title),1),m(l,{class:"my-2"}),m("ul",q,[(p(!0),d(y,null,b(t.docs,(a=>(p(),d("li",{onClick:s=>e.$router.push(`/art/${a._id}?cat=${t.cat._id}`),class:"",key:a._id},[P,m("span",T,g(a.title),1)],8,["onClick"])))),128))])])),_:2},1024)))),128))])),_:1})])),_:1})])};export default O;
