var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,o=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&i(e,a,t[a]);if(l)for(var a of l(t))s.call(t,a)&&i(e,a,t[a]);return e},n=(e,l)=>t(e,a(l));import{m as c,f as u,r as d,n as p,o as h,g as f,h as m,w as g,p as b,F as y,i as v,q as j,j as S}from"./vendor.0935d5ab.js";import{_ as k}from"./TopicItem.4f93b36c.js";import"./index.e7d4a062.js";const w={name:"Form",components:{TopicItem:k},computed:n(o(o({},c("appShell",["baseInfo"])),c("news",["cateList","topicData"])),{loading(){return!Object.keys(this.topicData).length||!!this.load},currentSlug(){return this.topicData[`${this.activeName}`]?this.topicData[`${this.activeName}`]:{docs:[]}}}),data:()=>({load:!1,activeName:"frontend",isLoadingTab:!1,currentTabId:"",currentPage:1,tab:null}),methods:n(o({},u("news",["fetchTopicCate"])),{async handleClick(){this.currentSlug.slug||(this.load=!0,await this.fetchTopicCate({query:"channel",slug:this.activeName}),this.load=!1)},async loadMore(){let e={query:"channel",slug:this.activeName,offset:this.currentSlug.offset,size:this.currentSlug.size};this.load=!0,await this.fetchTopicCate(e),this.load=!1}}),mounted(){this.currentSlug.slug||this.fetchTopicCate()}},T={class:"forum-wrapper"},O={key:0},C=S("加载更多");w.render=function(e,t,a,l,r,s){const i=d("el-tab-pane"),o=d("el-tabs"),n=d("topic-item"),c=d("el-divider"),u=d("el-button"),S=d("el-card"),k=d("el-col"),w=d("el-row"),N=p("loading");return h(),f("div",T,[m(w,{gutter:20},{default:g((()=>[m(k,{span:18},{default:g((()=>[b(m(S,null,{default:g((()=>[m(o,{modelValue:r.activeName,"onUpdate:modelValue":t[1]||(t[1]=e=>r.activeName=e),onTabClick:s.handleClick,class:"forum-tabs"},{default:g((()=>[(h(!0),f(y,null,v(e.cateList,(e=>(h(),f(i,{key:e.slug,label:e.name,name:e.slug},null,8,["label","name"])))),128))])),_:1},8,["modelValue","onTabClick"]),s.currentSlug&&s.currentSlug.docs?b((h(),f("div",O,[(h(!0),f(y,null,v(s.currentSlug.docs,((e,t)=>(h(),f(y,{key:e.id+t},[m(n,{topic:e},null,8,["topic"]),t<s.currentSlug.docs.length-1?(h(),f(c,{key:0})):j("",!0)],64)))),128))],512)),[[N,r.isLoadingTab]]):j("",!0),s.currentSlug.finish?j("",!0):(h(),f("div",{key:1,class:"flex align-center justify-center py-3",onClick:t[2]||(t[2]=(...e)=>s.loadMore&&s.loadMore(...e))},[m(u,{type:"success"},{default:g((()=>[C])),_:1})]))])),_:1},512),[[N,s.loading]])])),_:1})])),_:1})])};export default w;
